<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Roshambo Tournament 2</title>
	<link rel="stylesheet" type="text/css" href="index.css">
	<script src="https://unpkg.com/vue"></script>
</head>

<body>
	<div id="rps">
		<div id="playboard">
			<div class="enemyplayerside">
				<div class="handsdeck">
					<div v-bind:type="hand.name" class="hand top" v-for="hand in enemyPlayer.hands" v-bind:rotate="randomRotationDegree()">
						<div class="title-section">
							<p class="specialText">{{hand.name}}</p>
						</div>
						<div class="icon-section">
							<div class="icon">

							</div>
						</div>
						<div class="information-section">
							<div class="health">
								<i class="fas fa-heart"></i>
								<p class="specialText">
									{{hand.health}}
								</p>
							</div>
							<div class="freeze">
								<i class="fas fa-snowflake"></i>
								<p class="specialText">
									{{hand.freeze}}
								</p>
							</div>
							<div class="damage-info">
								<p v-for="(handResult, handIndex) in handPrototypes[hand.name].result">
									{{handResult.damage}} damage to {{handResult.name}}
								</p>
							</div>
						</div>
					</div>
				</div>
				<div class="spelldeck">
					<div class="towel" v-for="towel in thisPlayer.towels" v-bind:type="towel.name">
						<div class="towel-twirl-left">

						</div>
						<div class="towel-twirl-right">

						</div>
						<div class="towel-start">

						</div>
						<div class="emblem">
							<i v-bind:class="towel.emblemIcon"></i>
						</div>
						<div class="explanation">
							<h4>
								{{towel.name}}
							</h4>
							<p>
								{{towel.description}}
							</p>
						</div>
					</div>
				</div>
			</div>
			<div class="board-mid">
				<div class="playingField">
					<div class="thisPlayerShowdown">
						<p class="specialText" v-if="username === player1Name">
							You played:
						</p>
						<p class="specialText" v-if="username !== player1Name">
							{{player1Name}} played:
						</p>
						<div id="myHandName">
							<div v-if="myHandName != ''" v-bind:type="myHandName" class="hand top">
								<div class="title-section">
									<p class="specialText">{{myHandName}}</p>
								</div>
								<div class="icon-section">
									<div class="icon">
		
									</div>
								</div>
								<div class="information-section">
								</div>
							</div>
						</div>
					</div>
					<div class="resultShowdown">
						<p class="specialText">
							Result of this hand:
						</p>
						<div class="showdown-box">
							<p class="specialText" id="handResult">
								{{handResult(myHandName, otherHandName)}}
							</p>
							<p  class="specialText" v-if="otherHasChosen && otherHandName === '' && username === player1Name">The other player has chosen a hand, it will be shown once you choose your hand</p>
							<p  class="specialText" v-if="otherHasChosen && otherHandName === '' && username !== player1Name">One player has chosen a hand, it will be shown once the other player has chosen as well</p>
						</div>
					</div>
					<div class="enemyPlayerShowdown">
						<p class="specialText">
							{{player2Name}} played:
						</p>
						<div id="otherHandName">
							<div v-if="otherHandName != ''" v-bind:type="otherHandName" class="hand top">
								<div class="title-section">
									<p class="specialText">{{otherHandName}}</p>
								</div>
								<div class="icon-section">
									<div class="icon">
		
									</div>
								</div>
								<div class="information-section">
									
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="thisplayerside">
				<div class="handsdeck">
					<div v-bind:type="hand.name" class="hand bottom" v-bind:id="'handButton_'+hand.name" v-bind:disabled="myHandName !== ''" @click="playHand(hand.name, handIndex)" v-for="(hand, handIndex) in thisPlayer.hands"  v-bind:rotate="randomRotationDegree()" ondrop="drop(event)" ondragover="allowDrop(event)">
						<div class="title-section">
							<p class="specialText">{{hand.name}}</p>
						</div>
						<div class="icon-section">
							<div class="icon">
							
							</div>
						</div>
						<div class="information-section">
							<div class="health">
								<i class="fas fa-heart"></i>
								<p class="specialText">
									{{hand.health}}
								</p>
							</div>
							<div class="freeze">
								<i class="fas fa-snowflake"></i>
								<p class="specialText">
									{{hand.freeze}}
								</p>
							</div>
							<div class="damage-info">
								<p v-for="(handResult, handIndex) in handPrototypes[hand.name].result">
									{{handResult.damage}} damage to {{handResult.name}}
								</p>
							</div>
						</div>
					</div>
				</div>
				<div class="spelldeck">
					<div class="towel" v-for="(towel, towelIndex) in thisPlayer.towels" v-bind:type="towel.name"  v-bind:id="'towel'+towelIndex" draggable="true" ondragstart="drag(event)">
						<div class="towel-twirl-left">

						</div>
						<div class="towel-twirl-right">

						</div>
						<div class="towel-start">

						</div>
						<div class="emblem">
							<i v-bind:class="towel.emblemIcon"></i>
						</div>
						<div class="explanation">
							<h4>
								{{towel.name}}
							</h4>
							<p>
								{{towel.description}}
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="information-pane">
			<div class="toolbar">
				<div class="controls" v-if="username === player1Name">
					<a href="#" data-icon="â™š" type="button" v-if="myScore === maxScore || otherScore === maxScore" @click="newGame()" class="button orange shield glossy">New Game</a>
				</div>
			</div>
			<div class="player-info">
				<div class="player-container">
					<p v-if="username === player1Name">
						You are:
					</p>
					<p v-if="username !== player1Name">
						This is:
					</p>
					<p class="userName">
						{{player1Name}}
					</p>
				</div>
				<div class="enemyplayer-container">
					<p>
						Playing against:
					</p>
					<p class="userName">
						{{player2Name}}
					</p>
				</div>
				<div class="score-container">
					<p>
						Score:
					</p>
					<p id="score">
						{{myScore}} - {{otherScore}}
					</p>
				</div>
			</div>

			<div class="history">
				<p class="specialText">
					Moves this game:
				</p>
				<div class="history-overview">
					<p v-for="(playedHand, index) in playedHands">
						Round {{index + 1}}: {{handResult(playedHand.myHandName, playedHand.otherHandName)}}
					</p>
				</div>
			</div>

			<div class="lobby">
				<div class="lobbyTitle">
					<p class="specialText">
						Other players:
					</p>
				</div>
				<ul class="users-overview">
					<li class="otherUser" v-for="otherUser in otherUsers">
						{{otherUser.name}} <i class="fas fa-crosshairs"></i>
					</li>
				</ul>
			</div>
		</div>
	</div>

	<script
	src="https://code.jquery.com/jquery-3.3.1.min.js"
	integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
	crossorigin="anonymous"></script>
	<script src="/socket.io/socket.io.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js"></script>
	<script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>
	<script src="shared/logic.js"></script>
	<script src="index.js"></script>
</body>
</html>

<audio controls loop preload="auto" id="background-music">
	<source src="media/Gran Batalla.mp3" type="audio/mpeg">
</audio>
<audio controls preload="auto" id="scissors-sound">
	<source src="media/scissors.mp3" type="audio/mpeg">
</audio>
<audio controls preload="auto" id="rock-sound">
	<source src="media/rock.mp3" type="audio/mpeg">
</audio>
<audio controls preload="auto" id="paper-sound">
	<source src="media/paper.mp3" type="audio/mpeg">
</audio>
<audio controls preload="auto" id="spock-sound">
	<source src="media/spock.mp3" type="audio/mpeg">
</audio>
<audio controls preload="auto" id="lizard-sound">
	<source src="media/lizard.mp3" type="audio/mpeg">
</audio>

<audio controls preload="auto" id="shuffling-sound">
	<source src="media/shuffling.mp3" type="audio/mpeg">
</audio>
<audio controls preload="auto" id="carddeal-sound">
	<source src="media/carddeal.wav" type="audio/wav">
</audio>